<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> é¡¹ç›®å¼•ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„å°å‘ Â· loovien&weiwei-(luowen â¤ï¸ wwei)</title><meta name="description" content="composerä½¿ç”¨ç¬¬ä¸‰æ–¹é‡åˆ°çš„ä¸€ä¸ªå°å‘"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><!--if theme.googlefonts//link(rel="stylesheet", href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type='text/css')--><!--else //link(rel="stylesheet", href="https://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type='text/css')--></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/loovien" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/loovien" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/me/" target="_self" class="nav-list-link">ABOUTME</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">é¡¹ç›®å¼•ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„å°å‘</h1><div class="post-info">Jun 21, 2017</div><div class="post-content"><p>ä¸€èˆ¬æˆ‘ä»¬å¼€å‘é¡¹ç›®, ä¸å¯é¿å…çš„éœ€è¦ä½¿ç”¨åˆ«çš„ç¬¬ä¸‰æ–¹åº“, javaæœ‰<code>maven</code>, pythonæœ‰<code>pip</code>, goæœ‰<code>go get</code>, javascritpæœ‰<code>npm</code>,<br>å½“ç„¶ä½œä¸ºä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€PHPæœ‰<code>composer</code>, çœ‹ä¸Šå»æ˜¯é‚£ä¹ˆçš„ç¾å¥½.ğŸ˜„. ä»Šå¤©ç”¨composerå®‰è£…è‡ªå·±å†™çš„ä¸€ä¸ªä¾èµ–, å‘ç°æœ‰å‘.<br>â€¦â€¦â€¦.</p>
<a id="more"></a>
<h3 id="å†™åœ¨å‰é¢çš„è¯"><a href="#å†™åœ¨å‰é¢çš„è¯" class="headerlink" title="å†™åœ¨å‰é¢çš„è¯"></a>å†™åœ¨å‰é¢çš„è¯</h3><p>åœºæ™¯, æœ‰å¿«ä¸šåŠ¡ä»£ç , å¾ˆå¤šå¾ˆå¤šä¸ªé¡¹ç›®éƒ½è¦è°ƒç”¨, (æ¯”å¦‚ä¸šåŠ¡ç›‘æ§ä»£ç , éœ€è¦åœ¨ä¸ªä¸ªä¸šåŠ¡ä¸­è°ƒç”¨), ç†æ‰€å½“çš„æƒ³æŠŠå®ƒå°è£…æˆä¸€ä¸ªcomposeråŒ…(é’ˆå¯¹phpå¼€å‘)<br>ç„¶åå…¶ä»–é¡¹ç›®åªè¦<code>composer require monitorpkg</code>å³å¯, ç„¶åå°†ä»£ç åŠ å…¥åˆ°ä»“åº“, å’Œé¡¹ç›®ä¸€èµ·å‘å¸ƒOKäº†,<br>(ä¸€èˆ¬æˆ‘ä»¬éƒ½æŠŠ<code>vendor</code>ç›®å½•ä¸‹ä¸€èµ·åŠ å…¥åˆ°ä»“åº“. 1. æ–¹ä¾¿å‰ç«¯åŒå­¦ ä¸€èµ·å¼€å‘, æ€»ä¸èƒ½è®©å‰ç«¯åŒå­¦ä¸€å®‰è£…composerå§.  2. çº¿ä¸Šå‘å¸ƒä¹Ÿç®€å•, å½“ç„¶ä½ å¯ä»¥è¯´å‘å¸ƒåæŒ‚ä¸ªé’©å­, <code>composer update</code>ä¸€ä¸‹ä¹Ÿå¾ˆç®€å•, ä½†å®é™…æƒ…å†µä¸ä¼šç†æƒ³, æ›¾ç»æˆ‘ä»¬é¡¹ç›®å°±æ˜¯è¿™æ ·åš, å‘ç°æ¯æ¬¡å‘å¸ƒé¡¹ç›®è¦ç­‰å¥½å‡ åˆ†é’Ÿ, éšç€é¡¹ç›®å˜å¤§, 10å¤šåˆ†é’Ÿæ‰å‘å¸ƒOK, è¿™ç»å¯¹ä¸æ˜¯ä½ æƒ³è¦çš„)<br>é—®é¢˜æ¥äº†, æˆ‘å‘ç°<code>composer install monitorpkg</code>çš„ä»£ç ä¸èƒ½åŠ å…¥åˆ°é¡¹ç›®ä»“åº“. ~~~</p>
<h3 id="åŸå› è¿½è¸ª"><a href="#åŸå› è¿½è¸ª" class="headerlink" title="åŸå› è¿½è¸ª"></a>åŸå› è¿½è¸ª</h3><p><code>composer install</code>ä¸‹æ¥çš„ç¬¬ä¸‰æ–¹åŒ…ä¸èƒ½åŠ å…¥ä»“åº“, æ²¡é“ç†, ä»¥å‰ä¹Ÿæ˜¯è¿™ä¹ˆå¹²çš„å‘€, cdåˆ°å®‰è£…çš„ç¬¬ä¸‰æ–¹åŒ…ç›®å½•ä¸‹(<code>vendor/organization/monitorpkg</code>) <code>ls -a</code> å‘ç°.gitç›®å½•ä¹Ÿ<br>downä¸‹æ¥äº†? ä¸ºä»€ä¹ˆ?</p>
<h3 id="composerä»“åº“ç±»å‹"><a href="#composerä»“åº“ç±»å‹" class="headerlink" title="composerä»“åº“ç±»å‹"></a><a href="https://getcomposer.org/doc/05-repositories.md" target="_blank" rel="noopener">composerä»“åº“ç±»å‹</a></h3><p>composer ä»“åº“åœ°å€æœ‰ç±»å‹æœ‰4ç±»åˆ«</p>
<ul>
<li>Composer</li>
<li>VCS</li>
<li>PEAR</li>
<li>Packages</li>
</ul>
<p>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨çš„çš„<code>composer</code>ç±»å‹, å®‰è£…çš„åŒ…ä¸ä¼šæœ‰.gitç›®å½•, ä½†é¡¹ç›®æ˜¯ç§æœ‰é¡¹ç›®, å›¾ä¸ªæ–¹ä¾¿, ç›´æ¥ä½¿ç”¨<code>vcs</code>ç±»å‹äº†, å‘ç°ä½¿ç”¨<code>vcs</code>ç±»å‹ä¼šæŠŠé¡¹ç›®çš„.gitç›®å½•ä¹Ÿdownä¸‹æ¥<br>æˆ‘ä»¬çŸ¥é“, å•ä¸ªé¡¹ç›®gitä»“åº“ä¸­åªèƒ½æœ‰.gitç›®å½•, ç”±äºcomposerå®‰è£…çš„ç¬¬ä¸‰æ–¹åŒ…ä¹Ÿæœ‰.gitç›®å½•, å› æ­¤é¡¹ç›®ç›´æ¥å¿½ç•¥äº†ç¬¬ä¸‰æ–¹åŒ…äº†.</p>
<p>composer.json æ–‡ä»¶å¦‚ä¸‹</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"luowen/test"</span>,</span><br><span class="line">    <span class="attr">"authors"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"luowen"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"bigpao.luo@gmail.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"repositories"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"vcs"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"https://github.com/vvotm/zqim.git"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"require"</span>: &#123;</span><br><span class="line">        <span class="attr">"luowen/zqphplib"</span>: <span class="string">"dev-master"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ€ä¹ˆè§£å†³å‘¢-åŠæ³•è‚¯å®šæ˜¯æœ‰çš„"><a href="#æ€ä¹ˆè§£å†³å‘¢-åŠæ³•è‚¯å®šæ˜¯æœ‰çš„" class="headerlink" title="æ€ä¹ˆè§£å†³å‘¢, åŠæ³•è‚¯å®šæ˜¯æœ‰çš„."></a>æ€ä¹ˆè§£å†³å‘¢, åŠæ³•è‚¯å®šæ˜¯æœ‰çš„.</h3><ol>
<li><p>ä½¿ç”¨<code>git submodule</code>å®ç°</p>
<p> æ·»åŠ æˆ‘ä»¬å†™çš„ç¬¬ä¸‰æ–¹åŒ…çš„gitåœ°å€ä½œä¸ºé¡¹ç›®çš„å­æ¨¡å—å¯å‚è€ƒ<a href="https://git-scm.com/docs/git-submodule" target="_blank" rel="noopener">gitsubmodule documention</a>, <a href="https://github.com/blog/2104-working-with-submodules" target="_blank" rel="noopener">Working with submodules</a></p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> vendor/organiztion/</span><br><span class="line">$ git submodule add https://my-privite-gitrepo.com/mycustomer-package.git monitorypkg</span><br></pre></td></tr></table></figure>
<p> è¿˜æ²¡å®Œäº‹, æ¯æ¬¡å‘å¸ƒé¡¹ç›®å éœ€è¦æ‰§è¡Œ <code>git submodule update --init --recursive</code> æŠŠå­æ¨¡å—çš„é¡¹ç›®ä»£ç æ‹‰å»ä¸‹æ¥<br> å¾ˆæ˜¾ç„¶, è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„</p>
</li>
<li><p>ä½¿ç”¨<a href="https://github.com/composer/satis" target="_blank" rel="noopener">Composerå®˜æ–¹Satis</a> æ­å»ºç§æœ‰composerä»“åº“, å°†composer repositios æ¢æˆ <code>composer</code>ç±»å‹, ä¾‹å­:</p>
 <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"luowen/test"</span>,</span><br><span class="line">    <span class="attr">"authors"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"luowen"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"bigpao.luo@gmail.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"repositories"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"composer"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"http://youpackage.domain.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"require"</span>: &#123;</span><br><span class="line">        <span class="attr">"luowen/zqphplib"</span>: <span class="string">"dev-master"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>å…³äºæ›´å¤šçš„gitsubmoduleä¾‹å­(æ‹†åˆ†é¡¹ç›®æˆå¤šä¸ªå­æ¨¡å—, ç­‰ç­‰..)å‚è€ƒ<a href="https://git-scm.com/docs/git-submodule" target="_blank" rel="noopener">gitsubmodule</a>, <a href="https://github.com/blog/2104-working-with-submodules" target="_blank" rel="noopener">Working with submodules</a></strong><br><strong>ç»¼åˆè€ƒè™‘å°½é‡é¿å…ä½¿ç”¨gitsubmoduleè¿™ä¸ªåŠŸèƒ½, æˆæœ¬æ¯”è¾ƒé«˜, å¹¶æ²¡æƒ³çš„é‚£ä¹ˆç¾å¥½</strong></p>
<p><strong>æ¬¢è¿æ‹ç –, æˆ‘çš„disqusæ’ä»¶è¢«å¼ºäº†, ä¸€èˆ¬äººæ‹ä¸äº†!ğŸ˜„ğŸ˜„ğŸ˜„</strong></p>
</div></article></div></section><footer><div class="paginator"><a href="/2017/07/06/sleepsort/" class="prev">PREV</a><a href="/2017/06/18/gohttpserver/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'superwm';
var disqus_identifier = '2017/06/21/é¡¹ç›®åº”ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„å°å‘/';
var disqus_title = 'é¡¹ç›®å¼•ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„å°å‘';
var disqus_url = 'https://loovien.github.io/2017/06/21/é¡¹ç›®åº”ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„å°å‘/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//superwm.disqus.com/count.js" async></script><div class="copyright"><p>Â© 2015 - 2020 <a href="https://loovien.github.io">luowen<bigpao.luo@gmail.com></a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script async src="/js/embed.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-78479444-1",'auto');ga('send','pageview');</script></body></html>